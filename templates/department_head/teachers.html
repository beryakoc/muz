{% extends 'base.html' %}

{% block title %}Manage Teachers - University SIS{% endblock %}

{% block content %}
<h1>Manage Teachers</h1>

<div style="margin-bottom: 2rem;">
    <h2>Add New Teacher</h2>
    <form method="post" style="max-width: 600px;">
        {% csrf_token %}
        <input type="hidden" name="action" value="create">
        
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" name="username" id="username" required>
        </div>
        
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" required>
        </div>
        
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" name="password" id="password" required>
        </div>
        
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" name="name" id="name" required>
        </div>
        
        <div class="form-group">
            <label for="surname">Surname:</label>
            <input type="text" name="surname" id="surname" required>
        </div>
        
        <button type="submit" class="btn">Add Teacher</button>
    </form>
</div>

<div>
    <h2>Existing Teachers</h2>
    {% if teachers %}
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for teacher in teachers %}
            <tr>
                <td>{{ teacher.get_full_name }}</td>
                <td>{{ teacher.email }}</td>
                <td>
                    <form method="post" style="display: inline;">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="delete">
                        <input type="hidden" name="teacher_id" value="{{ teacher.id }}">
                        <button type="submit" class="btn btn-danger" 
                                onclick="return confirm('Are you sure you want to delete this teacher?')">
                            Delete
                        </button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No teachers found.</p>
    {% endif %}
</div>
{% endblock %}


